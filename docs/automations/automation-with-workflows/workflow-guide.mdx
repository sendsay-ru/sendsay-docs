---
sidebar_position: 2
---

import secondStepOfTheWorkflow from '/img/automations/automation-with-workflows/workflow-guide/second-step-of-the-workflow.png';

# Гайд по работе со сценариями

Сценарии запускают автоматические цепочки — последовательные действия системы, которые реагируют на какое-либо Событие или Действие подписчика. Например, когда пользователь подтвердил свою подписку на рассылку, ему автоматически приходит приветственная цепочка писем — чтобы познакомить нового подписчика с компанией и её услугами.

Главное преимущество автоматических рассылок — это экономия времени: достаточно настроить сценарий один раз, а дальше он будет работать без вашего участия. Сделать это можно в редакторе сценариев:

![Workflow creation](/img/automations/automation-with-workflows/workflow-guide/workflow-creation.jpg) <br />

[Что такое сценарий и как его создать](https://docs.sendsay.ru/automations/automation-with-workflows/workflow-creation)

## Как настроить и активировать сценарий

1. Чтобы начать работу со сценарием, перейдите на его страницу и нажмите кнопку «Редактировать»:

   ![Edit workflow](/img/automations/automation-with-workflows/workflow-guide/edit-workflow.png)

2. Выберите Стартовое событие: в первом блоке можно выбрать одно или несколько Событий с помощью кнопки «+ Добавить». Когда одно из них сработает, подписчик попадёт в сценарий.

   Например, в качестве Стартового может быть событие **Изменение данных подписчика**: когда его данные изменятся, он сразу попадёт в сценарий.

3. Под Стартовым событием нажмите на кнопку плюса `+` и добавьте в сценарий нужные блоки Событий, Действий, Условий, Таймеров или Сценариев:

   <p align="center">
     <img src={secondStepOfTheWorkflow} alt="Second step of the workflow" />
   </p>

   Для замены какого-либо События или Действия в сценарии нажмите на соответствующий блок и выберите новое Событие или Действие:<br /><br /> ![How to replace the block](/img/automations/automation-with-workflows/workflow-guide/how-to-replace-block.gif)<br /><br /> Чтобы переместить какой-либо блок — например, на другую ветку сценария, — выберите его и перетяните в нужную часть экрана:<br /><br /> ![How to move block](/img/automations/automation-with-workflows/workflow-guide/how-to-move-block.gif)

4. Когда сценарий готов, нажмите синюю кнопку «Сохранить» в правом верхнем углу визуального редактора:

   ![How to save the workflow](/img/automations/automation-with-workflows/workflow-guide/how-to-save-the-workflow.png) Затем выйдите из редактора, нажав стрелочку `←` в верхнем левом углу.

5. Активируйте сценарий на его странице, нажав зелёную кнопку «Активировать»:

   ![How to activate the workflow](/img/automations/automation-with-workflows/workflow-guide/how-to-activate-the-workflow.png) Если необходимо отредактировать сценарий, нажмите кнопку «Остановить». После этого отредактируйте сценарий, сохраните и активируйте его снова.

   :::tip Важно

   Редактировать активный сценарий, по которому уже идут подписчики, — **нежелательно**. Это может привести к ошибкам прохождения сценария его участниками. :::

6. Выберите типы контактов, которые будут попадать в сценарий. Для этого нажмите «Настроить фильтр контактов» на странице сценария, выберите нужные типы и нажмите «Сохранить»:

   ![Filter by contact type](/img/automations/automation-with-workflows/workflow-guide/filter-by-contact-type.gif)

7. Протестируйте сценарий перед запуском. Это необязательный пункт, но так вы убедитесь, что сценарий работает так, как вы ожидаете.

   Чтобы проверить корректность работы сценария, используйте собственный email-адрес. Для этого необходимо добавить его в базу контактов.

   [Как протестировать сценарий](https://docs.sendsay.ru/automations/automation-with-workflows/workflow-creation/#как-протестировать-сценарий)

8. Включите приём подписчиков, чтобы они начали попадать в сценарий после того, как сработает Стартовое событие:

   ![How to turn on subscriber reception](/img/automations/automation-with-workflows/workflow-guide/how-to-turn-on-subscriber-reception.png)

9. Отключите повторные прохождения — если нужно, чтобы участники сценария прошли его только один раз:

   ![How to turn off-re-passing](/img/automations/automation-with-workflows/workflow-guide/how-to-turn-off-re-passing.png)

## Как приостановить приём участников

Чтобы новые участники не попадали в сценарий, можно приостановить их приём. При этом текущие участники пройдут сценарий до конца.

Для этого на странице сценария отключите пункт **Принимать подписчиков**:

![Suspension the reception of workflow members](/img/automations/automation-with-workflows/workflow-guide/suspension-the-reception-of-workflow-members.png)

## Как включить повторные прохождения

Чтобы участники сценария могли заново его проходить, включите пункт **Повторные прохождения** на странице сценария:

![How to enable re-passes](/img/automations/automation-with-workflows/workflow-guide/how-to-enable-re-passes.png)

## Как вручную добавить или исключить участников сценария

Если нужно добавить новых участников, список или сегмент в сценарий, это можно сделать вручную. В таком случае они проигнорируют Стартовое событие и сразу попадут на второй шаг сценария.

:::tip Важно Добавлять новых участников можно только в активный сценарий. :::

Кроме того, из сценария можно вручную исключить конкретные контакты, список или сегмент, а также всех участников сценария сразу. Если исключить участников, они принудительно закончат прохождение сценария на том шаге, где они были в текущий момент.

Чтобы добавить или исключить участников сценария:

1. На странице сценария нажмите кнопку «Действия» и выберите пункт **Добавить участников** или **Исключить участников**:

   ![Member Management](/img/automations/automation-with-workflows/workflow-guide/member-management.png)

2. В появившемся окне выберите нужную вкладку:

   ![Member Management](/img/automations/automation-with-workflows/workflow-guide/member-management-1.png)

   - **указать вручную**, если хотите добавить подписчиков из базы или исключить конкретных участников сценария. Затем введите нужные адреса контактов, либо нажмите ссылку «Выбрать из базы подписчиков» внизу поля; ![How to add subscribers from base](/img/automations/automation-with-workflows/workflow-guide/how-to-add-subscribers-from-base.png)
   - **список или сегмент**, если хотите добавить или исключить всех участников одной группы. Выберите нужный канал и конкретный список/сегмент, либо пункт **Создать список** — и создайте список, не выходя из редактора;
   - **всех участников**, если хотите исключить из сценария всех текущих участников.

3. Нажмите синюю кнопку «Добавить» или «Исключить» в зависимости от выбранного действия.

## Как создать копию сценария

Скопировать сценарий можно двумя способами:

- На странице сценария нажмите на кнопку «Действия» и выберите пункт **Создать копию**:

  ![How to make a copy](/img/automations/automation-with-workflows/workflow-guide/how-to-make-a-copy.png)

  В появившемся окне введите новое название и нажмите кнопку «Создать копию». После этого копия будет доступна в разделе **Автоматизации → Сценарии**.

- Выберите нужный сценарий из списка в разделе **Автоматизации → Сценарии**, нажмите на кнопку «Редактировать» и выберите пункт **Копировать**:

  ![How to make a copy](/img/automations/automation-with-workflows/workflow-guide/how-to-make-a-copy-1.png)

  В появившемся окне переименуйте копию и нажмите кнопку «Создать копию».

Если вы создадите копию активного сценария, эта копия будет неактивна. В новом сценарии будут доступны все блоки исходного сценария, но не будет участников.

## Как удалить сценарий

Если удалить сценарий, он досрочно завершится для всех участников на том шаге, на котором они были в момент удаления.

:::tip Важно

Удалённый сценарий невозможно восстановить.

:::

Удалить сценарий можно двумя способами:

- На странице сценария с помощью пункта **Удалить** у кнопки «Действия»:

  ![How to delete the workflow](/img/automations/automation-with-workflows/workflow-guide/how-to-delete-the-workflow.png)

- В списке сценариев с помощью пункта **Удалить** у кнопки «Редактировать»:

  ![How to delete the workflow](/img/automations/automation-with-workflows/workflow-guide/how-to-delete-the-workflow-1.png)

Если вы хотите удалить сразу несколько сценариев, перейдите в список сценариев, выделите галочками нужные и нажмите кнопку «Удалить»:

![How to delete several workflows](/img/automations/automation-with-workflows/workflow-guide/how-to-delete-several-workflows.png)
