---
sidebar_position: 1
sidebar_label: 'Импорт из файла'
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import autoimportParameters from '/img/automations/autoimport/how-to-set-autoimport/autoimport-parameters.png';
import fileToPrivateStorage from '/img/automations/autoimport/how-to-set-autoimport/how-to-upload-file-to-private-storage.gif';

# Как настроить автоматический импорт из файла по расписанию

Автоматический импорт по расписанию подгружает данные из файла в указанное время. Его можно настроить в три шага:

## 1. Создайте автоматизацию по времени

<Tabs>
<TabItem value="key1" label="В новом интерфейсе" default>

Перейдите в раздел **Автоматизации → По времени** и нажмите «Создать автоматизацию». Появится окно с выбором типа автоматизации — выберите «Автоматизация импорта».

![How to create automation by time in the new interface](/img/automations/autoimport/how-to-set-autoimport/how-to-create-automation-by-time-in-the-new-interface.gif)

</TabItem>
<TabItem value="key2" label="В предыдущем интерфейсе">

Откройте раздел **Система → Действия по расписанию**. В выпадающем меню вместо «Выпуск по расписанию» выберите пункт «Импорт по расписанию» и нажмите «Создать».

![How to create automation by time in the legacy interface](/img/automations/autoimport/how-to-set-autoimport/how-to-create-automation-by-time-in-the-legacy-interface.gif)

Настройки импорта мы рассмотрим на примере нового интерфейса, но в предыдущем всё настраивается аналогично.

</TabItem>
</Tabs>

## 2. Настройте параметры импорта

### Основные параметры

1. Вставьте ссылку на файл с данными — это может быть:

   - ссылка в формате http / https / ftp / ftps / sftp,
   - ссылка на защищённый файл в формате ftp://логин:пароль@ftp.путь.ru/директория,
   - ссылка на файл в приватном хранилище Sendsay в формате rfs://upload/путь-до-файла.

   **Система не принимает Google-файлы**. Чтобы загрузить файл в приватное хранилище, нажмите «Выбрать файл», а затем «Загрузить» в появившемся окне: <br/>

   <p align="center">
     <img src={fileToPrivateStorage} alt="How to upload file to private storage" />
   </p>

   [Как подготовить файл для импорта](https://docs.sendsay.ru/subscribers/import-and-export/how-to-prepare-file-for-import)

2. Укажите список для добавления новых подписчиков.

3. Выберите разделитель полей в файле, который отбивает данные в строке друг от друга: запятая, точка с запятой или табуляция. Разделитель должен быть одинаковым во всех строках документа.

4. Выберите, что делать при импорте данных, которые уже есть в сервисе (в базе не может быть подписчиков с одинаковыми контактами):

- заменять старые данные на новые,
- игнорировать совпадения (в базе останутся старые адреса),
- сообщать об ошибке в отчёте по импорту (в базе останутся старые адреса).

### Дополнительные параметры

#### Добавлять подписчиков неподтверждёнными

Эта галочка нужна, если новые контакты ещё не подтвердили согласие получать ваши рассылки. Подтверждение согласия на рассылку — обязательный этап подписки: потенциальный подписчик должен потом подтвердить, что почта работает, у него есть к ней доступ и он хочет получать ваши письма.

Если вы поставите галочку, контакты будут добавлятся со статусом «Не подтверждён» — им нельзя будет ничего отправлять, кроме писем подтверждения, через которые их владельцы смогут подтвердить согласие на рассылку.

[Как автоматизировать отправку писем подтверждения](https://docs.sendsay.ru/automations/automations-by-time/how-to-automate-confirmation-emails)

Рекомендуем загружать контакты подтверждёнными только тогда, когда вы уверены, что владельцы контактов согласны получать ваши письма. В противном случае они могут начать массово отписываться от вас или добавлять вашу рассылку в спам, что негативно скажется на вашей доставляемости в целом.

#### Учитывать изменение данных при импорте для запуска триггеров

Если включить эту настройку, новые контакты будут попадать в автоматизации по событиям, где на первом шаге есть следующие условия:

- изменились данные,
- подписчик присоединился к списку или сегменту.

По умолчанию новые контакты не подходят под эти два условия. Если вы хотите учитывать результаты импорта в автоматизации, поставьте галочку в настройках импорта.

## 3. Настройте расписание

Настройте периодичность и время импорта. Обратите внимание, что в новом интерфейсе можно выбрать несколько дней и несколько вариантов времени отправления. Также на этом шаге можно ограничить дни импорта и выбрать, когда загружать контакты — по будням или по выходным.

<p align="center">
  <img src={autoimportParameters} alt="Autoimport parameters" />
</p>

## 4. Активируйте автоматизацию

После завершения настройки нажмите «Активировать». Вы можете сразу активировать автоматизацию, отложить запуск или указать интервал, когда импорт будет работать. Если вы хотите провести импорт однократно, активация не обязательна: вместо этого можно раскрыть выпадающее меню рядом с кнопкой «Активировать» и нажать «Выполнить единоразово» — загрузка контактов начнётся сразу.
