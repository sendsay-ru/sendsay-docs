---
sidebar_position: 5
sidebar_label: 'Каталог товаров'
---

# Как подключить каталог товаров

Каталог товаров необходимо подключить, чтобы в письма подгружались актуальные товары, а также для работы триггерных сценариев для онлайн-продаж.

:::tip Важно

Для корректного отображения в письмах товаров из каталога необходимо, чтобы id товара в событии совпадал с id в YML-файле каталога товаров.

:::

Для подключения каталога товаров:

1. Перейдите в раздел **Продажи → Товары** на странице сайта и нажмите кнопку «Загрузить каталог»:

   ![How to connect the product catalog](/img/ecom/product-catalog/product-catalog.png)

2. В появившемся окне укажите ссылку на каталог товаров в формате .yml или .xml, затем нажмите «Начать загрузку».

   Загрузка каталога займёт некоторое время — вы можете следить за этим в **Журнале заданий**. Если файл будет недоступен, система выдаст ошибку импорта. Когда каталог товаров загрузится, во вкладке **Товары** появятся **Настройки импорта**:

   ![Import settings](/img/ecom/product-catalog/import-settings.png)

   Импорт в данном случае — это автоматическое обновление каталога товаров. Он обновляется три раза в сутки с периодичностью в восемь часов.

   В правом верхнем углу есть кнопка «На паузу» — она приостановит импорт каталога товаров, и он перестанет обновляться.

## Как изменить адрес файла для каталога товаров

1. В боковом меню перейдите в раздел **Продажи → Товары**.

2. Откройте список у кнопки «На паузу» и выберите пункт **Изменить адрес файла**:

   ![Change the address of the file](/img/ecom/product-catalog/change-address-of-file.png)

3. В появившемся окне добавьте ссылку на новый каталог товаров и нажмите «Сохранить».

После загрузки нового файла в **Настройках импорта** вы увидите предупреждение о необходимости обновить данные в шаблонах писем.

## Как обновить данные в шаблонах писем

Если вы изменили адрес файла для каталога товаров, необходимо вручную обновить данные в шаблонах писем. Для этого:

1. В боковом меню перейдите в раздел **Продажи → Товары**.

2. В **Настройках импорта** скопируйте ссылку на файл:

   ![Address of the file](/img/ecom/product-catalog/address-of-file.png)

3. После этого перейдите в раздел **Контент → Все шаблоны** и выберите шаблон письма, который нужно обновить.

4. На шаге **Письмо** нажмите «Редактировать» — откроется HTML-версия шаблона.

5. В HTML-коде найдите строчку формата:

   ```
   [% external_extra("https://mysite.ru/catalog.yml","method","get","ignore_error","1","format","yml") %]
   ```

   ​где `https://mysite.ru/catalog.yml` — ссылка на файл с каталогом товаров.

6. Замените ссылку на файл с каталогом товаров на актуальную:

   ![How to replace a link](/img/ecom/product-catalog/how-to-replace-link.gif)

7. Нажмите «Сохранить» в правом верхнем углу экрана.

8. Если необходимо, повторите пункты с 3 по 7 для других шаблонов писем.

## Как вручную обновить каталог товаров

Каталог товаров автоматически обновляется три раза в сутки, однако вы можете обновить его вручную в любой момент, выполнив **Разовый запуск**.

:::tip Важно

Обновить каталог товаров вручную можно не чаще, чем раз в 15 минут.

:::

Как это сделать:

1. В боковом меню перейдите в раздел **Продажи → Товары**.
2. В **Настройках импорта** нажмите на выпадающее меню у кнопки «На паузу» и выберите пункт **Разовый запуск**:

   ![One-time star](/img/ecom/product-catalog/one-time-start.png)

Обновление может занять время — следите за ходом работы в **Журнале заданий**.

## Как удалить каталог товаров

Чтобы удалить каталог товаров, нужно удалить автоматический импорт. Для этого:

1. В боковом меню перейдите в раздел **Продажи → Товары**.

2. Нажмите на выпадающее меню кнопки «На паузу» и выберите пункт Удалить:

   ![How to delete catalog](/img/ecom/product-catalog/delete-catalog.png)

3. Подтвердите удаление автоматического импорта в открывшемся окне.

После удаления каталога товаров ранее импортированные данные будут недоступны, а товары в письмах не будут выводиться.

**Читайте также:** [Товарные рекомендации](https://docs.sendsay.ru/ecom/product-recommendations)
