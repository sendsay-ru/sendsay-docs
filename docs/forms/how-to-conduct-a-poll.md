---
sidebar_position: 3
---
import publishPoll from "./assets/how-to-conduct-a-poll/publish-a-poll.png";
import addPollToTheWebsite from "./assets/how-to-conduct-a-poll/add-poll-to-the-website.png";
import formId from "./assets/how-to-conduct-a-poll/form-id.png";

# Как провести опрос

Опросы создаются на основе форм. Вы можете опубликовать опрос на своём сайте или отправить в письме ссылкой на страницу, размещённую на серверах Sendsay. Ответы сохранятся в карточках подписчиков.

Не рекомендуем вставлять опросы прямо в письмо, потому что многие почтовые сервисы (например, Mail.ru или Gmail) удаляют формы из писем.

**Чтобы создать опрос, перейдите [в предыдущий интерфейс](https://sendsay.ru/account/).**

## 1. Создайте вопросы
Вопросы могут быть разных типов: текст, дата, число или список вариантов. Поля для вопросов создаются и хранятся в анкетах. Для удобства под разные опросы лучше создавать отдельные анкеты:
1. В разделе **Анкеты → Управление** анкетами нажмите «Создать анкету».
2. Введите название и нажмите «Продолжить».
3. Нажмите «Добавить новое поле», напишите вопрос в название поля и выберите формат ответа.

Поля для социально-демографических данных можно также создавать в дополнительной анкете, которая по умолчанию есть в аккаунте:
1. В разделе **Анкеты → Управление анкетами** откройте дополнительную анкету и нажмите «Добавить новое поле».
2. Введите названия поля и выберите формат ответа.

## 2. Добавьте вопросы в форму
Готовые вопросы нужно собрать в одну форму:
1. Зайдите в раздел **Анкеты → Опросы и формы** и выберите «Конструктор форм» (если вы до этого не создавали форм) или «Создать форму» (если уже создавали).
2. Введите название и добавьте нужные поля. В каждую форму автоматически добавляется поле «Email» (оно скроется, если респондент перейдёт в опрос по ссылке из письма).

![Add questions into the form](./assets\how-to-conduct-a-poll/add-questions-into-the-form.gif) <br/>

При настройке формы можно редактировать названия полей — для этого нажмите на карандашик рядом с названием вопроса. Если поле используется в других формах, там оно останется без изменений.

После добавления полей нажмите «Продолжить», чтобы перейти на страницу параметров формы.

## 3. Настройте параметры формы
У опросов есть несколько дополнительных писем и страниц:
- страница с формой (нужна, если вы публикуете опрос не на сайте),
- страница после заполнения формы,
- письмо подтверждения, чтобы после респонденты могли подтвердить адрес и ответы,
- страница после подтверждения данных,
- письмо благодарности (опционально) — отправляется после опроса или подтверждения данных.

:::tip Важно
У новых подписчиков при подтверждении ответов активируется подписка на рассылку
:::

Создайте группу-список для участников опроса, чтобы позже с ними можно было работать отдельно (в новом интерфейсе он тоже будет отображаться — как список подписчиков). Когда вы добавите нужные изменения, нажмите кнопку «Сохранить».

## 4. Опубликуйте опрос
Когда опрос готов, активируйте его, чтобы ответы сохранялись в сервисе.

<p align="center">
    <img src={publishPoll} alt="Publish the poll" />
</p>

Опрос можно опубликовать двумя способами:

### Добавить на сайт
1. На странице формы нажмите на «Получить форму» и скопируйте код (убедитесь, что код формы выбран стандартный, а не Email).

<p align="center">
    <img src={addPollToTheWebsite} alt="Add poll to the website" />
</p>

2. Вставьте код на нужную страницу вашего сайта.

### Отправить ссылкой в письме
1. Скопируйте ID формы (число в адресной строке браузера).

<p align="center">
    <img src={formId} alt="Form ID" />
</p>

2. Вставьте в письмо персонализированную ссылку, чтобы ответы записались нужному подписчику (тогда поле «Email» при переходе в опрос автоматически скроется).

Ссылка для блочного редактора: 
```
[% form_url(id формы) %]
```

Ссылка для HTML-редактора:
```
<a href="[% form_url(id формы) %]"> текст ссылки </a>
```

## 5. Выгрузите ответы
Чтобы выгрузить ответы, нужно сначала создать формат вывода — указать в нём поля, из которых будут выводиться данные.

### Как создать формат вывода
1. Зайдите в раздел **Подписчики → Инструменты** и выберите инструмент Форматы вывода.
2. Введите название, нажмите «Сохранить и добавить поля».
3. Добавьте поле с адресом: нажмите «Добавить поле», выберите системную анкету и поле анкеты «Адрес подписчика (email)».
4. Добавьте остальные поля.
5. Нажмите «Сохранить».

![Output format](./assets\how-to-conduct-a-poll/output-format.gif) <br/>

### Как выгрузить данные
1. Зайдите в раздел **Подписчики → Поиск**.
2. Выберите группу-список, куда добавлялись участники опроса.
3. Выберите формат вывода, созданный для опроса. Если нужно, выберите формат сортировки: данные сортируются по любому полю формата.
4. В поле «Тип искомых адресов подписчиков» выберите «Email».
5. Выберите способ вывода данных: показать сейчас, сохранить на сервере или выслать на email. Вариант «Показать сейчас» обычно используется для тестирования опроса (проверить, записались ли первые ответы) или для небольших групп на несколько десятков адресов — иначе получится огромная таблица, которую нельзя скачать. 
6. Нажмите «Вывести список подписчиков».

![How to download poll data](./assets\how-to-conduct-a-poll/how-to-download-poll-data.gif) <br/>