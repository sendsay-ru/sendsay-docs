---
sidebar_position: 4
---

import DealData from '/img/integrations/integration-with-amocrm/how-to-add-deal-data.png';
import triggerConditions from '/img/integrations/integration-with-amocrm/trigger-conditions.png';
import conditions from '/img/integrations/integration-with-amocrm/mailing-conditions.png';

# Интеграция с amoCRM

AmoCRM — это система управления взаимоотношениями с клиентами, которая позволяет автоматизировать работу и продажи внутри компании. Интеграция с Sendsay поможет переносить контакты из amoCRM, настраивать автоматические действия в Цифровой Воронке и смотреть статистику, не выходя из системы.

Чтобы данные передавались из amoCRM в Sendsay, необходимо установить виджет и настроить интеграцию. Для этого:

1. Откройте меню аккаунта и выберите пункт **Настройки системы → Интеграции**. Затем выберите **Интеграция с AmoCRM** среди доступных и нажмите «Подключить аккаунт»:

   ![Integration with amocrm](/img/integrations/integration-with-amocrm/integration-with-amocrm.gif)

   После этого будут сгенерированы данные для подключения — вашего логина и API-ключа, которые необходимо ввести в аккаунте amoCRM.

   ![Api key](/img/integrations/integration-with-amocrm/api-key.png)

2. Перейдите в свой аккаунт в amoCRM, далее в раздел **amoМаркет → Маркетплейс** и найдите виджет **Sendsay** с помощью строки поиска. Нажмите «Установить бесплатно». Затем отметьте галочкой согласие на передачу персональных данных и нажмите «Установить».

   ![Widget Sendsay](/img/integrations/integration-with-amocrm/widget-sendsay.gif)

3. После установки необходимо подключить виджет — для этого cкопируйте данные для входа из Sendsay и введите их во вкладке **Авторизация**. Затем нажмите «Сохранить».

   ![Authorization](/img/integrations/integration-with-amocrm/authorization.png)

4. Перейдите во вкладку **Пользователи** и отметьте галочкой пользователей аккаунта, которые будут работать с виджетом:

   ![Users](/img/integrations/integration-with-amocrm/users.png)

   Нажмите «Сохранить».

## Как настроить импорт данных

При импорте данных в Sendsay система передаёт имя Контакта или Компании и основной email. Однако вы можете настроить нужные поля для передачи данных — для этого в amoCRM перейдите в раздел **Настройки → Sendsay**.

![Widget settings](/img/integrations/integration-with-amocrm/widget-settings.png)

На этой странице указаны поля, которые можно передавать в Sendsay:

- поля Контакта,
- поля Компании,
- поля Сделки.

Для каждого из трёх типов полей есть раскрывающийся список — откройте его и укажите, какие именно поля будут передаваться в Sendsay. Затем нажмите «Сохранить».

:::tip Важно

После создания нового поля в amoCRM необходимо подождать 15 минут, прежде чем передавать его в Sendsay: системе потребуется время на сохранение поля.

:::

![How to set fields](/img/integrations/integration-with-amocrm/how-to-set-fields.gif)

Система может автоматически передавать обновленные данные из полей Контакта и Компании при их изменении вручную из карточек Контакта и Компании. Для этого отметьте соответствующий пункт галочкой и нажмите «Сохранить»:

![Field changes](/img/integrations/integration-with-amocrm/field-changes.png)

:::tip Важно

При изменении данных в поле Сделки информация не будет передаваться автоматически. Чтобы после изменений обновить данные о Сделке в Sendsay, необходимо перейти в её карточку и повторно передать данные с помощью виджета в правой части экрана.

:::

Есть четыре способа, как передать данные из amoCRM в Sendsay:

- импортировать базу Контактов или Компаний массово;
- импортировать все данные Сделок массово;
- вручную импортировать данные каждого контакта Сделки с помощью виджета — этот вариант понадобится, если при передаче данных необходимо добавить Контакты в разные списки и сценарии;
- настроить импорт в Цифровой Воронке при срабатывании триггера.

## Как импортировать базу Контактов или Компаний массово

Компании импортируются в Sendsay так же, как и Контакты — для каждой Компании создаётся своя карточка подписчика. После передачи данных Контакт и информация о Сделке станут доступны в Sendsay в разделе **Подписчики → Просмотр подписчиков**.

Чтобы импортировать Контакты или Компании:

1. В amoCRM перейдите в раздел **Списки** и в раскрывающемся меню выберите нужный список для импорта — Контакты или Компании.

2. Отфильтруйте список по необходимым параметрам, либо отметьте галочкой нужные Контакты или Компании.

   При выборе всех Контактов в появившемся меню нажмите «Ещё» и выберите Sendsay. Затем в появившемся окне необходимо указать, хотите ли вы экспортировать только отмеченные Контакты, или все Контакты по активному фильтру.

   ![How to import contacts](/img/integrations/integration-with-amocrm/how-to-import-contacts.gif)

3. В появившемся окне во вкладке **Добавление** при необходимости выберите списки и активные сценарии, куда импортировать контакты. Затем нажмите «Добавить».

   ![How to add to the list and workflow](/img/integrations/integration-with-amocrm/how-to-add-to-the-list-and-workflow.gif)

:::tip Важно

Не рекомендуем импортировать контакты повторно до того, как завершится предыдущий импорт. Дождитесь, пока все контакты будут импортированы в Sendsay — и только потом импортируйте их снова.

:::

Чтобы посмотреть данные Контакта или Компании, в Sendsay перейдите в карточку подписчика и выберите вкладку **Данные → Данные из amoCRM**, где содержится информация о Контакте и Сделках, в которых он участвует:

![Subscriber data](/img/integrations/integration-with-amocrm/subscriber-data.png)

### Как исключить Контакты и Компании из списков и сценариев

1. В amoCRM перейдите в раздел **Списки** и в раскрывающемся меню выберите нужный список среди Контактов или Компаний.
2. Отметьте галочкой нужные Контакты или Компани. В появившемся меню нажмите «Ещё» и выберите Sendsay.
3. В новом окне выберите вкладку **Исключение**, затем укажите списки и сценарии рассылок, из которых необходимо исключить Контакты, участвующие в сделке.
4. Нажмите «Исключить» и подтвердите действие.

   ![How to delist or workflow](/img/integrations/integration-with-amocrm/how-to-delist-or-workflow.gif)

## Как импортировать данные Сделок

При импорте Сделок в Sendsay создаются карточки подписчиков для каждого Контакта и Компании, участвующих в сделке.

Чтобы массово импортировать Сделки:

1. Перейдите в раздел **Сделки** и выберите отображение списком.

2. Отфильтруйте список Сделок по необходимым параметрам, либо отметьте галочкой нужные Сделки.

3. При выборе всех Сделок в появившемся меню нажмите «Ещё» и выберите Sendsay. Затем в появившемся окне необходимо указать, хотите ли вы экспортировать только отмеченные Сделки, или все Сделки по активному фильтру.

4. В появившемся окне во вкладке **Добавление** при необходимости выберите списки и активные сценарии рассылок, куда импортировать Контакты и Компании, участвующие в Сделках. Здесь есть три варианта:

   - добавить в список или активный сценарий основной Контакт,
   - добавить в список или активный сценарий дополнительные Контакты,
   - добавить в список или активный сценарий Компанию.

     <p align="center">
       <img src={DealData} alt="How to add deal data" />
     </p>

   Отметьте галочкой необходимый вариант или сразу несколько — в случае, если необходимо передать в выбранный список или сценарий всех участников текущей Сделки. Затем нажмите «Добавить».

:::tip Важно

Система создаст такое же количество подписчиков в Sendsay, сколько Контактов и Компаний по каждой Сделке было импортировано. Например, если в одной Сделке участвует 4 Контакта и 1 Компания, — и вы импортировали каждый адрес, тогда в системе появится 5 карточек подписчиков.

:::

### Как исключить участвующие в Сделках Контакты и Компании из списков и сценариев

Например, сделка завершилась — и теперь вам нужно исключить Контакты из выбранного ранее списка. Тогда:

1. В amoCRM перейдите в раздел **Сделки** и выберите отображение списком.
2. Отметьте галочкой нужные (или все сразу) Сделки. В появившемся меню нажмите «Ещё» и выберите Sendsay.
3. В новом окне выберите вкладку **Исключение**, затем укажите списки и сценарии рассылок, из которых необходимо исключить Контакты или Компании, участвующие в Сделке.
4. Отметьте галочками необходимые опции:

   - исключить основной Контакт,
   - исключить дополнительные Контакты,
   - исключить Компанию.

Выберите один вариант или сразу несколько, затем нажмите «Исключить».

## Как вручную импортировать Контакты

Каждый Контакт в amoCRM можно импортировать в Sendsay вручную. Для этого:

1. Перейдите в раздел **Сделки** и откройте карточку нужной Сделки, затем раскройте меню справа и выберите виджет Sendsay — здесь отображается основной Контакт, участвующий в текущей Сделке.

   ![How to import contacts manually](/img/integrations/integration-with-amocrm/how-to-import-contacts-manually.png)

   Чтобы импортировать Компанию и все Контакты, участвующие в Сделке, в виджете Sendsay отметьте галочкой пункт **Все контакты и компания**.

2. При необходимости выберите списки и активные сценарии, куда импортировать Контакты и Компании.

   ![How to import contacts manually](/img/integrations/integration-with-amocrm/how-to-import-contacts-manually1.png)

3. Выберите нужные Контакты и нажмите «Добавить».

Виджет Sendsay позволяет также исключить Контакт из выбранного списка или активного сценария в интерфейсе amoCRM, если ранее он был туда добавлен. Чтобы это сделать, укажите списки и сценарии во вкладке **Исключение**.

:::tip Важно

Вкладка **Исключение** относится только к удалению Контакта из списков и активных сценариев. Удалить Контакт из базы можно только в интерфейсе Sendsay.

:::

## Как настроить автоматизации в Цифровой Воронке

С виджетом Sendsay вы можете настраивать автоматические действия в Цифровой Воронке — например, добавлять Контакты в сценарий или исключать из списков при переходе на следующий этап Cделки. Для этого:

1. В amoCRM перейдите в раздел **Сделки** и нажмите «Настроить» в правом верхнем углу.

2. Выберите необходимый этап Цифровой Воронки и нажмите «Добавить триггер». В новом окне через поиск найдите виджет Sendsay и нажмите «Добавить».

   ![Digital funnel](/img/integrations/integration-with-amocrm/digital-funnel.gif)

3. Добавьте условия для Сделок и триггер amoCRM. Например, если вы хотите, чтобы Контакты и Компании, участвующие в Сделках с бюджетом от 10 000 до 50 000 рублей, попадали в список или сценарий при оплате счёта, условия будут выглядеть так:

<p align="center">
  <img width="70%" src={triggerConditions} alt="Trigger conditions" />
</p>

1. При необходимости укажите списки и сценарии в Sendsay, в которые нужно добавить или исключить контакты после срабатывания триггера на стороне amoCRM. Отметьте галочками необходимые опции — выберите один вариант или сразу несколько:

   - применить только к основному Контакту,
   - применить только к дополнительным Контактам,
   - применить только к Компании.

   Нажмите «Готово».

2. После настройки триггерных событий нажмите «Сохранить» в Цифровой Воронке.

## Как запустить авторассылку из amoCRM

Виджет Sendsay позволяет отправлять автоматические рассылки при выполнении заданных условий в amoCRM — например, когда Сделка переходит на новый этап.

:::tip Важно

Вы можете настраивать триггерные сценарии без ограничений, если используете тариф линейки «Маркетинг». На тарифах линейки «Рассылки» есть ограничение до 5 активных триггеров.

:::

1. В Sendsay перейдите в раздел **Контент** и создайте шаблон письма для отправки. Заполните имя отправителя, его адрес и тему письма.

   [Как создать письмо в блочном редакторе](https://docs.sendsay.ru/email-campaigns/create-your-campaign/drag-and-drop-editor)<br /> [Как загрузить HTML-шаблон](https://docs.sendsay.ru/email-campaigns/create-your-campaign/how-to-upload-html-template)

2. Перейдите в раздел **Автоматизации → Сценарии** и создайте новый сценарий.

   В качестве [стартового события](https://docs.sendsay.ru/automations/automation-with-workflows/workflow-blocks/#стартовые-события) выберите **Без стартового события**. Следующим блоком выберите действие **Отправить подписчику email** и укажите шаблон письма, который вы создали в п. 1.

   Нажмите «Сохранить». На странице сценария включите приём подписчиков и повторные прохождения, затем активируйте сценарий — иначе он не отобразится в amoCRM.

   ![Workflow creation](/img/integrations/integration-with-amocrm/workflow-creation.gif)

   [Гайд по работе со сценариями](https://docs.sendsay.ru/automations/automation-with-workflows/workflow-guide)

3. Перейдите в amoCRM. В разделе **Сделки → Воронка** нажмите «Настроить», выберите нужный этап воронки и нажмите «Добавить триггер».

   Затем в появившемся окне с помощью поиска найдите виджет Sendsay и нажмите «+ Добавить».

   ![How to add widget](/img/integrations/integration-with-amocrm/how-to-add-widget.gif)

4. Настройте условия для триггера: например, **После перехода или создания в этапе**. Затем в поле **Добавить на сценарий рассылки** укажите сценарий, который вы создали в п. 2.

   <p align="center">
     <img width="50%" src={conditions} alt="Trigger conditions" />
   </p>

   При необходимости отметьте галочкой нужные параметры:

   - применить к основному контакту,
   - применить к дополнительным контактам,
   - применить к компании,
   - применить триггер к текущим сделкам в статусе.

   Нажмите «Готово», затем сохраните настройки в Цифровой Воронке.

   Таким образом после срабатывания триггера в amoCRM, в Sendsay запустится сценарий для этого контакта и он получит письмо.

   [Как персонализировать рассылку на основе данных из amoCRM](https://docs.sendsay.ru/email-campaigns/personalization/how-to-use-amocrm-data-in-campaigns/#как-персонализировать-рассылку-наоснове-данных-контактов-икомпаний)

## Отчёт по рассылкам в amoCRM

Виджет Sendsay позволяет посмотреть статистику по отправленным выпускам для каждого контакта в amoCRM. Это может понадобиться, например, для понимания того, насколько контакт вовлечён в коммуникацию по Cделке.

Как это сделать:

1. В amoCRM перейдите в раздел **Списки → Контакты** и выберите необходимый контакт. Либо кликните по нужному контакту прямо в карточке Сделки.

2. В меню справа выберите виджет Sendsay и нажмите «Отчёт по рассылкам».

![How to view statistics](/img/integrations/integration-with-amocrm/how-to-view-statistics.png)

Система отображает отчёт по рассылкам за последние 14 дней. Если хотите посмотреть отправленные выпуски за более ранний период, нажмите «Ещe»:

![Mailing list report](/img/integrations/integration-with-amocrm/mailing-list-report.gif)

Данные по выпускам также доступны в разделе **Подписчики → Просмотр подписчиков** в Sendsay: откройте карточку нужного подписчика и перейдите во вкладку **Выпуски**.

**Читайте также:**<br /> [Как использовать данные из amoCRM в рассылках](https://docs.sendsay.ru/email-campaigns/personalization/how-to-use-amocrm-data-in-campaigns)
