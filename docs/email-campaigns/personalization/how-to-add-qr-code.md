---
sidebar_position: 4
---

import qrCode from "/img/email-campaigns/personalization//how-to-add-qr-code/qr-code.png";

# Как вставить QR-код в письмо

QR-код — это квадратный штрихкод из черных точек и пробелов, с помощью которого можно передавать данные: например, ссылку на сайт, контакты, координаты или небольшой текст. Получателю нужно отсканировать QR-код смартфоном, и страница с информацией откроется автоматически — не нужно ничего запоминать или вводить вручную.

<p align="center">
    <img src={qrCode} alt="QR code" />
</p>

Чтобы сформировать и вставить QR-код в письмо, достаточно в HTML-код письма добавить картинку и в атрибуте src вписать функцию PROScript — **qr_code()**:
<!-- prettier-ignore -->
```html
<img src="[% qr_code(‘txt’) %]" />
```

**txt** — это текст, из которого генерируется QR-код (например, фраза, ссылка или промокод). Может включать русские и английские буквы, а также цифры и символы (пробел, дефис, кавычки). Максимальный размер текста — 2331 байт, где:

- 1 русская буква весит 2 байта,
- 1 английская буква — 1 байт,
- цифры и символы — по одному байту.

:::tip Важно
В QR-коде нельзя разбивать текст на абзацы, а также ставить двойные и одинарные кавычки.
:::
Если вместо текста подставляется значение из анкеты, кавычки не ставятся:
<!-- prettier-ignore -->
```html
<img src="[% qr_code(anketa.a498.qr) %]" />
```

При отправке сервер преобразует указанный текст или ссылку и подставит картинку с кодом. Размер картинки определяется автоматически, исходя из объёма данных. Если вы хотите изменить размер, пропишите в настройках перед функцией величину одного модуля (это чёрная точка на QR-коде):
<!-- prettier-ignore -->
```html
[% p = { "ModuleSize" => 4 } %]
<img src="[% qr_code(‘txt’, p) %]"/>
```

**p** — это настройки, а **ModuleSize** — размер одного модуля в пикселях (по умолчанию равен 4 пикселям).

Перед выпуском рассылки проверьте, как QR-код отображается в письме:

1. В HTML-редакторе нажмите на иконку любого устройства (под адресной строкой браузера) — откроется режим предпросмотра, который показывает, как будет выглядеть письмо на разных устройствах.
2. Выберите в столбике слева пункт «Посмотреть письмо с данными конкретного подписчика», введите почту любого подписчика и нажмите «Применить».
3. Отсканируйте QR-код, чтобы убедиться, что всё работает.
